<!doctype html>
<html>
<head>
    <title>Craving Saving</title>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script type="text/javascript" src="/jquery-ui/jquery-ui.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

    <script type="text/javascript" src="/goalScreen.js"></script>
<!--   goalscreen <script type="text/javascript" src="dragDrop.js"></script>
-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="/stylesheet.css">
    <link rel="stylesheet" type="text/css" href='https://fonts.googleapis.com/css?family=Questrial'>
    <script> var user = JSON.parse('<%- JSON.stringify(user) %>'); </script> <!-- load into javascript-->
</head>
<body>
     <div class="row" id="heading-row">
        <div class="col-md-3 text-left"> <img src="/images/logo.png" alt="Logo" id="logo"> </div>
        <div class="col-md-6 text-center available-funds">John's Available Funds: $<%= user.balance.toFixed(2) %></div>
        <div class="col-md-1"></div>
        <div class="col-md-2 text-right">
            <button class="btn btn-default" id="spend-now-btn">
                <img src="/images/spendnow-btn-copy.png" width="100%" height="100%">
            </button>
        </div>
    </div>

    <div class="container">
        <ul class="nav nav-tabs" id="myTab">
            <li class="active">
                <a href="#goals"><h4>Goals</h4></a>
            </li>
            <li>
                <a href="#earn"><h4>Earn</h4></a>
            </li>
            <li>
                <a href="#history"><h4>History</h4></a>
            </li>
        </ul>

        <div class="tab-content">
            <div class="tab-pane active" id="goals">
				<div id="goal-menu">
					<div class="goalname-input">
						<div id="goal-name"><%=user.goals[id].goalName%></div>
					</div>
					<div class="back-wrapper">
						<button  type="button" class="btn btn-default back-btn" id="back">
							<img src="/images/back-icon.png" width="100%" height="100%">
						</button>
					</div>
					<div class="row">
						<div class="col-md-4 goal-photobox">
							<img src="http://placehold.it/400X400" class="goal-pic center-block goal-img">
						</div>
						<div class="col-md-8 text-center goal-info">
							<div class="row goal-amt display">$<span class="cur-val"><%=user.goals[id].saved%></span> <span class="of">of  $</span><span class="max-val"><%=user.goals[id].price%></span></div>
							<div class="row goal-btns display">
								<button type="button" class="btn btn-default btn-lg add-togoal addmode" style="background-color:#FFC64C">Add $ To Goal</button>
								<button type="button" class="btn btn-success btn-lg purchase-goal purchasemode" style="display:none">Purchase Item</button>
							</div>
						</div>
					</div>
					<div class="row" style="padding-right:0px;padding-left:0px;">
						<div class="col-md-9">
							<div class="progress maingoal-bar">
							    <div class="progress-bar progress-bar-success progress-bar-striped maingoal-progress" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:0%">
							    <span class="progress-bar-text">0</span>%
							  	</div>
							</div>
						</div>
						<div class="col-md-3">
							<button type="button" class="btn btn-danger btn-lg progress-row-btn delete-goal-btn display">Delete</button>
							<button type="button" class="btn btn-default btn-lg progress-row-btn edit-goal-btn display">Edit</button>
						</div>
					</div>
					<div id="deleteModal" class="modal fade" tabindex="-1" role="dialog">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal">×</button>
									<h3>Delete goal</h3>
								</div>
								<div class="modal-body">
									<h4>Are you sure you want to delete this goal?</h4>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
									<button type="button" class="btn btn-danger" data-dismiss="modal">Yes, delete this goal</button>
								</div>
							</div>
						</div>
					</div>
					<div id="photoModal" class="modal fade" tabindex="-1" role="dialog">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal">×</button>
									<h3>Upload Photo</h3>
								</div>
								<div class="modal-body">
									<div class="uploadPhotoBox">
										<p>Click to upload photo</p>
									</div>
									<div class="lightsaber">
										<img src="/images/lightsaber.png" style="height:100%;">
									</div>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
									<button type="button" class="btn btn-primary submitPhoto" data-dismiss="modal">Upload</button>
								</div>
							</div>
						</div>
					</div>
				</div>




            </div>
            <div class="tab-pane" id="earn">Earn is not yet implemented.</div>
            <div class="tab-pane" id="history">History is not yet implemented.</div>

            <div id ="modal-add-money" class = "modal fade" role="dialog" tabindex="-1">
                <div class="modal-dialog add-money-dialog">
                    <div class="modal-content add-money-content" id="window-wrapper">
                        <div class="modal-header add-money-header">
                            <button type="button" class="close" data-dismiss="modal">×</button>
                            <h3>Transfer Money</h3>
                        </div>
                        <div class="modal-body add-money-body">
                            <div id="drag-and-drop-wrapper">
                                <div id="left-window">
                                    <span id="left-balance"></span>
                                </div>
                                <div id="arrow-block">
                                    <img src='/images/thin-arrow.png' id='transfer-arrow'>
                                    <span>$ <input id="transfer" value="0"></span>
                                </div>
                                <button id ="organize-button" class = "btn btn-default">Organize</button>
                                <div id="right-window">
                                    <span id="right-balance"></span>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <div class="footer-button-wrapper">
                                <button id="cancel-transaction-button" class="btn btn-danger">Cancel</button>
                                <button id="confirm-transaction-button" class="btn btn-success">Confirm</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="purchaseModal" class="modal fade" tabindex="-1" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">×</button>
                            <h3>Confirm Purchase</h3>
                        </div>
                        <div class="modal-body">
                            <h4>Congratulations! You've reached this goal. Press "Complete" to make the purchase.</h4>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger cancel-btn" data-dismiss="modal">Cancel</button>
                            <button type="button" class="btn btn-success purchase-btn" data-dismiss="modal">Complete</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tab-pane" id="earn">Earn $$$</div>
            <div class="tab-pane" id="history">History...</div>
        </div>
    </div>
</body>
</html>
